package com.signnow.library;

import okhttp3.FormBody;
import okhttp3.Request;
import okhttp3.RequestBody;
import okhttp3.Response;

import com.signnow.config.Config;

public class User {
	
	public static String Create(String email, String password, String firstName, String lastName,String clientId,String clientSecret,String resultFormat)
	{
		String encodedClientCredentials = Config.encodedClientCredentials;
		if(clientId != null && clientSecret != null)
		{
			encodedClientCredentials = Config.encodeClientCredentials(clientId, clientSecret);
		}
		
		RequestBody formBody = new FormBody.Builder()
        .add("email",email)
        .add("password", password)
        .add("first_name", firstName)
        .add("last_name",lastName)
        .build();
		
		Request request = new Request.Builder()
	      .url(Config.apiHost +"user")
	      .addHeader("Accept", "application/json")
	      .addHeader("Authorization", "Basic " + encodedClientCredentials)
	      .post(formBody)
	      .build();
	  Response response = client.newCall(request).execute();
	  return  response.body().string();
		
	}

}
